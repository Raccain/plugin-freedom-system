---
plugin: GrooveScout
stage: 0
phase: null
status: complete
last_updated: 2026-02-21
complexity_score: 5.0
phased_implementation: true
orchestration_mode: true
next_action: invoke_foundation_shell_agent
next_phase: null
ui_mockup_version: 2
ui_mockup_status: finalized
contract_checksums:
  creative_brief: sha256:66204469C96D324DA84A1BEB26C8B9112DA9F7AA818970E74B040DE256C5B6CA
  parameter_spec: sha256:3B04E151C0EBBCBDB9E58552EE5EAB25F36899D722CE88A2E2D64D60E7F63B0E
  architecture: sha256:CB6375275C3F037A038129DE5D45B332E1E523946C06664E286A9B7C0288218F
  plan: sha256:E4057F39804478A5C718C7BF68C2AFF300348A117AA0A99624A16FEAA093DF8E
---

# Resume Point

## Current State: Stage 0 Complete + UI Mockup Finalized — Ready for Stage 1

DSP architecture, implementation plan, and UI mockup all complete. parameter-spec.md generated. Ready to proceed to Stage 1 (Foundation).

## Completed So Far

**Ideation:** Complete
- Core concept defined (audio analyzer — BPM, key, drum MIDI extraction)
- Outputs specified (BPM display + set tempo, key display, draggable MIDI clips per drum)
- Analysis mode: one-shot triggered by Analyze button
- Technical approach: band-separated onset detection, chroma/K-S key detection
- Use cases identified (reference track analysis, sample flipping)

**Stage 0:** Complete - Research & Planning complete - Architecture and plan documented (Complexity 5.0)
- Plugin type: Analysis Utility (effect bus, stereo in/out, audio passes through unchanged)
- Professional examples researched: Mixed In Key, Traktor, Serato, Fadr, iZotope RX
- JUCE modules identified: juce_audio_basics, juce_audio_processors, juce_dsp, juce_core, juce_gui_basics
- DSP feasibility verified: all algorithms implementable with JUCE 8 APIs
- Complexity score: 5.0 (capped) — Complexity Tier 6
- Strategy: Phased implementation (4 DSP phases, 3 GUI phases)
- Plan documented in plan.md

**UI Mockup:** Complete (v2 finalized, commit 96124d9)
- Dark neon aesthetic: near-black (#0f0f0f) + cyan accent (#00e5ff)
- 750×560px fixed window
- 5-row layout: title bar / analysis bar / progress bar / MIDI clips / detection settings accordion
- MIDI clip tiles with piano-roll preview, hover-only drag handle
- Drum cards with dual-handle log-scale frequency range sliders, enable/disable toggle
- All 3 analysis states implemented (idle / analyzing / complete)
- parameter-spec.md generated and locked
- C++ boilerplate: v2-PluginEditor-TEMPLATE.h/cpp
- WebView CMake: v2-CMakeLists-SNIPPET.txt
- Integration checklist: v2-integration-checklist.md

## Next Steps

1. Stage 1: Foundation — create CMakeLists.txt, PluginProcessor.h/cpp, PluginEditor.h/cpp — Run /implement GrooveScout
2. Stage 1: Shell — register all 15 APVTS parameters with correct types, ranges, defaults
3. Use v2-PluginEditor-TEMPLATE.h/cpp as reference for WebView integration in Stage 3

## Context to Preserve

**Key Decisions:**
- Plugin type: Analysis Utility (audio passes through unchanged)
- Bus config: stereo in + stereo out (standard effect plugin)
- Core concept: One-click extraction of BPM, key, kick/snare/hihat MIDI from any audio
- MIDI output: Drag-to-track from plugin UI via performExternalDragDropOfFiles()
- Separate MIDI clip per drum type + root chord clip
- Offline analysis: user plays track → presses Analyze → background thread processes accumulated buffer
- Recording buffer: pre-allocated at prepareToPlay(), max 30s
- BPM algorithm: OSS + generalized autocorrelation using juce::dsp::FFT (MiniBPM as fallback)
- Key algorithm: STFT chromagram + Krumhansl-Schmuckler correlation
- Drum separation: per-band IIR bandpass (juce::dsp::IIR::Filter) + adaptive onset detection
- Background thread: juce::Thread subclass with threadShouldExit() cancellation

**Architecture file:** plugins/GrooveScout/.ideas/architecture.md
**Plan file:** plugins/GrooveScout/.ideas/plan.md
**Parameter spec:** plugins/GrooveScout/.ideas/parameter-spec.md (locked)
**UI mockup:** plugins/GrooveScout/.ideas/mockups/v2-ui.yaml (finalized)
**Complexity:** 5.0 (capped from 9.0)
**Implementation strategy:** 4 DSP phases + 3 GUI phases

**High-risk features:**
1. MIDI drag-and-drop (performExternalDragDropOfFiles — DAW compatibility varies)
2. BPM accuracy on full mixes (half-time/double-time ambiguity, bpmMultiplier correction)
3. Key detection on complex audio (chromagram contamination from drums)

**Files Created:**
- plugins/GrooveScout/.ideas/creative-brief.md
- plugins/GrooveScout/.ideas/parameter-spec.md (locked — generated from v2 mockup)
- plugins/GrooveScout/.ideas/parameter-spec-draft.md
- plugins/GrooveScout/.ideas/architecture.md
- plugins/GrooveScout/.ideas/plan.md
- plugins/GrooveScout/.ideas/mockups/v1-ui.yaml
- plugins/GrooveScout/.ideas/mockups/v1-ui-test.html
- plugins/GrooveScout/.ideas/mockups/v2-ui.yaml
- plugins/GrooveScout/.ideas/mockups/v2-ui-test.html
- plugins/GrooveScout/.ideas/mockups/v2-ui.html
- plugins/GrooveScout/.ideas/mockups/v2-PluginEditor-TEMPLATE.h
- plugins/GrooveScout/.ideas/mockups/v2-PluginEditor-TEMPLATE.cpp
- plugins/GrooveScout/.ideas/mockups/v2-CMakeLists-SNIPPET.txt
- plugins/GrooveScout/.ideas/mockups/v2-integration-checklist.md
